<!-- user-list.html -->
<div>
  <h2>Liste des utilisateurs</h2>

  <!-- Gestion des erreurs -->
  @if (error()) {
    <p>{{ error() }}</p>
    <button (click)="refresh()"Réessayer></button>
  }

  <!-- Affichage des utilisateurs -->
  @for (user of users(); track user.id) {
    <div>
      <p>{{ user.name }} - {{ user.email }}</p>
      <button
        (click)="deleteUser(user.id)"
        [disabled]="isDeleting() === user.id">
        {{ isDeleting() === user.id ? 'Suppression...' : 'Supprimer' }}
      </button>
    </div>
  } @empty {
    <p>Aucun utilisateur trouvé</p>
  }
</div>
